<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Comprehensive Usage Guide • ideadata</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="48x48" href="../favicon-48x48.png">
<link rel="icon" type="”image/svg+xml”" href="../favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
<link rel="icon" sizes="any" href="../favicon.ico">
<link rel="manifest" href="../site.webmanifest">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Comprehensive Usage Guide">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">


    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ideadata</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">4.0.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/maintenance-guide.html">Package Maintenance and Development Guide</a>
    </li>
    <li>
      <a href="../articles/setting-up-your-credentials.html">Setting up your credentials</a>
    </li>
    <li>
      <a href="../articles/snowflake-migration.html">Snowflake Migration Plan</a>
    </li>
    <li>
      <a href="../articles/usage-guide.html">Comprehensive Usage Guide</a>
    </li>
    <li>
      <a href="../articles/using-collector.html">Using collector() for large data sets</a>
    </li>
    <li>
      <a href="../articles/using-get_table.html">Using get_table()</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Comprehensive Usage Guide</h1>
            
      

      <div class="hidden name"><code>usage-guide.Rmd</code></div>

    </div>

    
    
<blockquote>
<p><strong>Version:</strong> 4.0.0 <strong>Purpose:</strong>
Cross-platform R package for accessing IDEA Public Schools’ SQL Server
data warehouse</p>
</blockquote>
<hr>
<div class="section level2">
<h2 id="prerequisites">Prerequisites<a class="anchor" aria-label="anchor" href="#prerequisites"></a>
</h2>
<p>Before using <code>ideadata</code>, ensure you have:</p>
<div class="section level3">
<h3 id="system-requirements">System Requirements<a class="anchor" aria-label="anchor" href="#system-requirements"></a>
</h3>
<ul>
<li>
<strong>R</strong> &gt;= 2.10</li>
<li>
<strong>Operating System</strong>: Windows, macOS, or Linux</li>
<li>
<strong>VPN Connection</strong>: Must be connected to IDEA
network</li>
<li>
<strong>ODBC Driver</strong>: Microsoft ODBC Driver 17+ for SQL
Server
<ul>
<li>Windows: Usually pre-installed</li>
<li>macOS: Install via <a href="https://docs.microsoft.com/en-us/sql/connect/odbc/download-odbc-driver-for-sql-server" class="external-link">Microsoft’s
download page</a>
</li>
<li>Linux: Follow distribution-specific instructions</li>
</ul>
</li>
</ul>
</div>
<div class="section level3">
<h3 id="kerberos-macoslinux-only">Kerberos (macOS/Linux only)<a class="anchor" aria-label="anchor" href="#kerberos-macoslinux-only"></a>
</h3>
<ul>
<li>macOS: Kerberos utilities (<code>kinit</code>, <code>klist</code>)
are pre-installed</li>
<li>Linux: Install with <code>sudo apt-get install krb5-user</code>
(Ubuntu/Debian)</li>
</ul>
</div>
<div class="section level3">
<h3 id="network-access">Network Access<a class="anchor" aria-label="anchor" href="#network-access"></a>
</h3>
<ul>
<li>Active IDEA employee account</li>
<li>VPN credentials and connection to IDEA network</li>
<li>Database access permissions granted by IT</li>
</ul>
<hr>
</div>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Install from GitHub using remotes</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"remotes"</span><span class="op">)</span></span>
<span><span class="fu">remotes</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"idea-analytics/ideadata"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Or using renv (recommended for project reproducibility)</span></span>
<span><span class="fu">renv</span><span class="fu">::</span><span class="fu">install</span><span class="op">(</span><span class="st">"idea-analytics/ideadata"</span><span class="op">)</span></span></code></pre></div>
<div class="section level3">
<h3 id="verifying-installation">Verifying Installation<a class="anchor" aria-label="anchor" href="#verifying-installation"></a>
</h3>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://idea-analytics.github.io/ideadata">ideadata</a></span><span class="op">)</span></span>
<span><span class="co"># You should see startup message showing:</span></span>
<span><span class="co"># - Kerberos ticket status</span></span>
<span><span class="co"># - Number of tables/databases/servers available</span></span></code></pre></div>
<hr>
</div>
</div>
<div class="section level2">
<h2 id="initial-setup">Initial Setup<a class="anchor" aria-label="anchor" href="#initial-setup"></a>
</h2>
<div class="section level3">
<h3 id="step-1-configure-credentials">Step 1: Configure Credentials<a class="anchor" aria-label="anchor" href="#step-1-configure-credentials"></a>
</h3>
<p>Run the interactive credential setup:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/setup_creds.html">setup_creds</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>You’ll be prompted for:</p>
<ol style="list-style-type: decimal">
<li>
<strong>User ID</strong>: Your IDEA email prefix (e.g.,
<code>firstname.lastname</code>)</li>
<li>
<strong>Password</strong>: Your IDEA network password</li>
<li>
<strong>ODBC Driver</strong>: Usually
<code>ODBC Driver 17 for SQL Server</code>
</li>
</ol>
<p>This creates/updates your <code>.Renviron</code> file with:</p>
<pre><code>IDEA_RNA_DB_UID=firstname.lastname
IDEA_RNA_DB_PWD=your_password
IDEA_RNA_ODBC_DRIVER=ODBC Driver 17 for SQL Server</code></pre>
</div>
<div class="section level3">
<h3 id="step-2-restart-r">Step 2: Restart R<a class="anchor" aria-label="anchor" href="#step-2-restart-r"></a>
</h3>
<p>After setup, restart your R session to load the new credentials:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># In RStudio: Session &gt; Restart R</span></span>
<span><span class="co"># Or simply reload the package</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://idea-analytics.github.io/ideadata">ideadata</a></span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="step-3-verify-connection">Step 3: Verify Connection<a class="anchor" aria-label="anchor" href="#step-3-verify-connection"></a>
</h3>
<p>Test your connection with a simple query:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">schools</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_schools.html">get_schools</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/compute.html" class="external-link">collect</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>If successful, you’re ready to use the package!</p>
<hr>
</div>
</div>
<div class="section level2">
<h2 id="understanding-lazy-evaluation">Understanding Lazy Evaluation<a class="anchor" aria-label="anchor" href="#understanding-lazy-evaluation"></a>
</h2>
<p><strong>CRITICAL CONCEPT</strong>: All <code>get_*()</code> functions
return <strong>lazy query objects</strong>, not actual data.</p>
<div class="section level3">
<h3 id="what-this-means">What This Means<a class="anchor" aria-label="anchor" href="#what-this-means"></a>
</h3>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># This does NOT pull data into R</span></span>
<span><span class="va">students</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_students.html">get_students</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">students</span><span class="op">)</span></span>
<span><span class="co"># [1] "tbl_Microsoft SQL Server" "tbl_dbi" "tbl_sql" "tbl_lazy" "tbl"</span></span>
<span></span>
<span><span class="co"># The query is only executed when you call collect()</span></span>
<span><span class="va">students_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_students.html">get_students</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/compute.html" class="external-link">collect</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="benefits-of-lazy-evaluation">Benefits of Lazy Evaluation<a class="anchor" aria-label="anchor" href="#benefits-of-lazy-evaluation"></a>
</h3>
<ol style="list-style-type: decimal">
<li>
<strong>Fast filtering</strong>: Filters execute on the SQL Server,
not in R</li>
<li>
<strong>Memory efficient</strong>: Only pull data you actually
need</li>
<li>
<strong>Preview capability</strong>: Examine query structure before
pulling</li>
</ol>
</div>
<div class="section level3">
<h3 id="the-pattern">The Pattern<a class="anchor" aria-label="anchor" href="#the-pattern"></a>
</h3>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># 1. Build your query (lazy, instant)</span></span>
<span><span class="va">query</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_students.html">get_students</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">grade_level</span> <span class="op">&gt;=</span> <span class="fl">9</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">student_number</span>, <span class="va">first_name</span>, <span class="va">last_name</span>, <span class="va">schoolid</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># 2. Preview the SQL (optional)</span></span>
<span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/explain.html" class="external-link">show_query</a></span><span class="op">(</span><span class="va">query</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># 3. Pull the data (this executes on SQL Server)</span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/compute.html" class="external-link">collect</a></span><span class="op">(</span><span class="va">query</span><span class="op">)</span></span></code></pre></div>
<hr>
</div>
</div>
<div class="section level2">
<h2 id="basic-usage-patterns">Basic Usage Patterns<a class="anchor" aria-label="anchor" href="#basic-usage-patterns"></a>
</h2>
<div class="section level3">
<h3 id="pattern-1-simple-table-retrieval">Pattern 1: Simple Table Retrieval<a class="anchor" aria-label="anchor" href="#pattern-1-simple-table-retrieval"></a>
</h3>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://idea-analytics.github.io/ideadata">ideadata</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Get current schools</span></span>
<span><span class="va">schools</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_schools.html">get_schools</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/compute.html" class="external-link">collect</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Get current students (filters applied server-side)</span></span>
<span><span class="va">current_students</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_currently_enrolled_students.html">get_currently_enrolled_students</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">grade_level</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">9</span>, <span class="fl">10</span>, <span class="fl">11</span>, <span class="fl">12</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/compute.html" class="external-link">collect</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="pattern-2-using-get_table-for-any-table">Pattern 2: Using <code>get_table()</code> for Any Table<a class="anchor" aria-label="anchor" href="#pattern-2-using-get_table-for-any-table"></a>
</h3>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># If you know the exact table name</span></span>
<span><span class="va">my_table</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_table.html">get_table</a></span><span class="op">(</span>.table_name <span class="op">=</span> <span class="st">"Students"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># If table name is ambiguous, you'll get helpful error with options:</span></span>
<span><span class="co"># Error: Found 3 tables named 'Students':</span></span>
<span><span class="co"># [Copy-paste code for each option shown]</span></span>
<span></span>
<span><span class="co"># Specify database to disambiguate</span></span>
<span><span class="va">students</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_table.html">get_table</a></span><span class="op">(</span></span>
<span>  .table_name <span class="op">=</span> <span class="st">"Students"</span>,</span>
<span>  .database_name <span class="op">=</span> <span class="st">"PowerSchool"</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="pattern-3-exploring-available-tables">Pattern 3: Exploring Available Tables<a class="anchor" aria-label="anchor" href="#pattern-3-exploring-available-tables"></a>
</h3>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Browse all available tables in a viewer</span></span>
<span><span class="fu"><a href="../reference/view_warehouse_metadata.html">view_warehouse_metadata</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Search for tables containing a keyword</span></span>
<span><span class="va">warehouse_meta_data</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="fu">str_detect</span><span class="op">(</span><span class="va">table_name</span>, <span class="st">"attendance"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="pattern-4-joining-data-from-multiple-sources">Pattern 4: Joining Data from Multiple Sources<a class="anchor" aria-label="anchor" href="#pattern-4-joining-data-from-multiple-sources"></a>
</h3>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Students with attendance</span></span>
<span><span class="va">student_attendance</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_students.html">get_students</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">left_join</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="../reference/get_student_daily_attendance.html">get_student_daily_attendance</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>    by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"id"</span> <span class="op">=</span> <span class="st">"studentid"</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">att_date</span> <span class="op">&gt;=</span> <span class="st">"2024-01-01"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/compute.html" class="external-link">collect</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<hr>
</div>
</div>
<div class="section level2">
<h2 id="core-functions">Core Functions<a class="anchor" aria-label="anchor" href="#core-functions"></a>
</h2>
<div class="section level3">
<h3 id="connection-management">Connection Management<a class="anchor" aria-label="anchor" href="#connection-management"></a>
</h3>
<div class="section level4">
<h4 id="create_connection-database_name--server_name">
<code>create_connection(.database_name, .server_name)</code><a class="anchor" aria-label="anchor" href="#create_connection-database_name--server_name"></a>
</h4>
<p>Creates a new database connection.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Usually not needed - connections are created automatically</span></span>
<span><span class="co"># But useful for custom database access</span></span>
<span><span class="va">con</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/create_connection.html">create_connection</a></span><span class="op">(</span></span>
<span>  .database_name <span class="op">=</span> <span class="st">"PowerSchool"</span>,</span>
<span>  .server_name <span class="op">=</span> <span class="st">"REDACTED-SQLSERVER"</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="check_get_connection-database_name--server_name">
<code>check_get_connection(.database_name, .server_name)</code><a class="anchor" aria-label="anchor" href="#check_get_connection-database_name--server_name"></a>
</h4>
<p>Checks for existing valid connection, creates if needed.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># This is called internally by all get_* functions</span></span>
<span><span class="co"># Returns connection object</span></span>
<span><span class="va">con</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/check_get_connection.html">check_get_connection</a></span><span class="op">(</span>.database_name <span class="op">=</span> <span class="st">"PowerSchool"</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="powerschool-data-functions">PowerSchool Data Functions<a class="anchor" aria-label="anchor" href="#powerschool-data-functions"></a>
</h3>
<div class="section level4">
<h4 id="student-data">Student Data<a class="anchor" aria-label="anchor" href="#student-data"></a>
</h4>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># All students</span></span>
<span><span class="va">students</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_students.html">get_students</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/compute.html" class="external-link">collect</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Only currently enrolled</span></span>
<span><span class="va">current</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_currently_enrolled_students.html">get_currently_enrolled_students</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/compute.html" class="external-link">collect</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Academic summary</span></span>
<span><span class="va">academic</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_students_academic_summary.html">get_students_academic_summary</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/compute.html" class="external-link">collect</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Continuous enrollment tracking</span></span>
<span><span class="va">enrollment</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_students_continuous_enrollment.html">get_students_continuous_enrollment</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/compute.html" class="external-link">collect</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="school-data">School Data<a class="anchor" aria-label="anchor" href="#school-data"></a>
</h4>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># All schools</span></span>
<span><span class="va">schools</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_schools.html">get_schools</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/compute.html" class="external-link">collect</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Regions</span></span>
<span><span class="va">regions</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_regions.html">get_regions</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/compute.html" class="external-link">collect</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="attendance-data">Attendance Data<a class="anchor" aria-label="anchor" href="#attendance-data"></a>
</h4>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Daily attendance</span></span>
<span><span class="va">attendance</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_student_daily_attendance.html">get_student_daily_attendance</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">att_date</span> <span class="op">&gt;=</span> <span class="st">"2024-01-01"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/compute.html" class="external-link">collect</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Engagement attendance (remote vs in-person)</span></span>
<span><span class="va">engagement</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_student_engagement_attendance.html">get_student_engagement_attendance</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/compute.html" class="external-link">collect</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="assessment-data-functions">Assessment Data Functions<a class="anchor" aria-label="anchor" href="#assessment-data-functions"></a>
</h3>
<div class="section level4">
<h4 id="interim-assessments">Interim Assessments<a class="anchor" aria-label="anchor" href="#interim-assessments"></a>
</h4>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># IAB/WA assessments</span></span>
<span><span class="va">iabwa</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_iabwa.html">get_iabwa</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">test_year</span> <span class="op">==</span> <span class="fl">2024</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/compute.html" class="external-link">collect</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="renaissance-star">Renaissance STAR<a class="anchor" aria-label="anchor" href="#renaissance-star"></a>
</h4>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Math assessments</span></span>
<span><span class="va">star_math</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_renstar_math.html">get_renstar_math</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">school_year</span> <span class="op">==</span> <span class="fl">2024</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/compute.html" class="external-link">collect</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Reading assessments</span></span>
<span><span class="va">star_reading</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_renstar_math.html">get_renstar_reading</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">school_year</span> <span class="op">==</span> <span class="fl">2024</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/compute.html" class="external-link">collect</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="survey-data-functions">Survey Data Functions<a class="anchor" aria-label="anchor" href="#survey-data-functions"></a>
</h3>
<div class="section level4">
<h4 id="employee-survey-aees">Employee Survey (AEES)<a class="anchor" aria-label="anchor" href="#employee-survey-aees"></a>
</h4>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Survey questions</span></span>
<span><span class="va">questions</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_aees.html">get_aees_questions</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/compute.html" class="external-link">collect</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Survey results</span></span>
<span><span class="va">results</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_aees.html">get_aees_results</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/compute.html" class="external-link">collect</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Open-ended responses</span></span>
<span><span class="va">oe_responses</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_aees.html">get_aees_oe_responses</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/compute.html" class="external-link">collect</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># All AEES data (convenience wrapper)</span></span>
<span><span class="va">all_aees</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_aees.html">get_aees</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/compute.html" class="external-link">collect</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="great-place-to-work-gptw">Great Place to Work (GPTW)<a class="anchor" aria-label="anchor" href="#great-place-to-work-gptw"></a>
</h4>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Survey questions</span></span>
<span><span class="va">questions</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_gptw.html">get_gptw_questions</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/compute.html" class="external-link">collect</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Survey results</span></span>
<span><span class="va">results</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_gptw.html">get_gptw_results</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/compute.html" class="external-link">collect</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Open-ended responses</span></span>
<span><span class="va">oe_responses</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_gptw.html">get_gptw_oe_responses</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/compute.html" class="external-link">collect</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="student-services-functions">Student Services Functions<a class="anchor" aria-label="anchor" href="#student-services-functions"></a>
</h3>
<div class="section level4">
<h4 id="persistence-data">Persistence Data<a class="anchor" aria-label="anchor" href="#persistence-data"></a>
</h4>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Historical persistence data</span></span>
<span><span class="va">persistence</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_persistence_historical.html">get_persistence_historical</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">school_year</span> <span class="op">&gt;=</span> <span class="fl">2020</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/compute.html" class="external-link">collect</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Persistence codes</span></span>
<span><span class="va">codes</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_persistence_code.html">get_persistence_code</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/compute.html" class="external-link">collect</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Persistence reason codes</span></span>
<span><span class="va">reasons</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_persistence_reasons_codes.html">get_persistence_reasons_codes</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/compute.html" class="external-link">collect</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="learning-location">Learning Location<a class="anchor" aria-label="anchor" href="#learning-location"></a>
</h4>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Daily learning location (remote vs in-person)</span></span>
<span><span class="va">location</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_learning_location.html">get_learning_location</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">date</span> <span class="op">&gt;=</span> <span class="st">"2024-01-01"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/compute.html" class="external-link">collect</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<hr>
</div>
</div>
</div>
<div class="section level2">
<h2 id="working-with-large-datasets">Working with Large Datasets<a class="anchor" aria-label="anchor" href="#working-with-large-datasets"></a>
</h2>
<div class="section level3">
<h3 id="problem-connection-failures-on-large-pulls">Problem: Connection Failures on Large Pulls<a class="anchor" aria-label="anchor" href="#problem-connection-failures-on-large-pulls"></a>
</h3>
<p>When pulling large datasets, SQL Server connections may timeout or
fail.</p>
</div>
<div class="section level3">
<h3 id="solution-use-collector">Solution: Use <code>collector()</code><a class="anchor" aria-label="anchor" href="#solution-use-collector"></a>
</h3>
<p>The <code><a href="../reference/collector.html">collector()</a></code> function breaks large queries into
chunks and combines them.</p>
<div class="section level4">
<h4 id="basic-usage">Basic Usage<a class="anchor" aria-label="anchor" href="#basic-usage"></a>
</h4>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Instead of this (may fail):</span></span>
<span><span class="co"># big_data &lt;- get_student_daily_attendance() %&gt;% collect()</span></span>
<span></span>
<span><span class="co"># Use collector to pull in chunks by schoolid</span></span>
<span><span class="va">big_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_student_daily_attendance.html">get_student_daily_attendance</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/collector.html">collector</a></span><span class="op">(</span><span class="va">schoolid</span>, verbose <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="multiple-grouping-variables">Multiple Grouping Variables<a class="anchor" aria-label="anchor" href="#multiple-grouping-variables"></a>
</h4>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Chunk by both schoolid and yearid</span></span>
<span><span class="va">very_big_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_student_daily_attendance.html">get_student_daily_attendance</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/collector.html">collector</a></span><span class="op">(</span><span class="va">schoolid</span>, <span class="va">yearid</span>, verbose <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="what-it-does">What It Does<a class="anchor" aria-label="anchor" href="#what-it-does"></a>
</h4>
<ol style="list-style-type: decimal">
<li>Identifies unique values of grouping columns</li>
<li>Filters data for each unique combination</li>
<li>Pulls data in manageable chunks</li>
<li>Combines all chunks into single tibble</li>
<li>Shows progress with encouraging messages (if
<code>verbose = TRUE</code>)</li>
</ol>
</div>
<div class="section level4">
<h4 id="when-to-use-collector">When to Use <code>collector()</code><a class="anchor" aria-label="anchor" href="#when-to-use-collector"></a>
</h4>
<ul>
<li>Pulling multiple years of daily attendance</li>
<li>Large student-level datasets spanning all schools</li>
<li>Historical data spanning many years</li>
<li>Any query that previously caused connection failures</li>
</ul>
<hr>
</div>
</div>
</div>
<div class="section level2">
<h2 id="best-practices">Best Practices<a class="anchor" aria-label="anchor" href="#best-practices"></a>
</h2>
<div class="section level3">
<h3 id="always-filter-on-the-server">1. Always Filter on the Server<a class="anchor" aria-label="anchor" href="#always-filter-on-the-server"></a>
</h3>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># GOOD: Filter before collect()</span></span>
<span><span class="va">students_2024</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_students.html">get_students</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">schoolid</span> <span class="op">==</span> <span class="fl">12345</span>, <span class="va">enroll_status</span> <span class="op">==</span> <span class="fl">0</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/compute.html" class="external-link">collect</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># BAD: Pulls ALL students first, then filters in R</span></span>
<span><span class="va">students_2024</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_students.html">get_students</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/compute.html" class="external-link">collect</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">schoolid</span> <span class="op">==</span> <span class="fl">12345</span>, <span class="va">enroll_status</span> <span class="op">==</span> <span class="fl">0</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="select-only-needed-columns">2. Select Only Needed Columns<a class="anchor" aria-label="anchor" href="#select-only-needed-columns"></a>
</h3>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># GOOD: Select columns on server</span></span>
<span><span class="va">students_subset</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_students.html">get_students</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">student_number</span>, <span class="va">first_name</span>, <span class="va">last_name</span>, <span class="va">grade_level</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/compute.html" class="external-link">collect</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># AVOID: Pulling all 50+ columns when you only need 4</span></span>
<span><span class="va">students_all</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_students.html">get_students</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/compute.html" class="external-link">collect</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="preview-before-pulling">3. Preview Before Pulling<a class="anchor" aria-label="anchor" href="#preview-before-pulling"></a>
</h3>
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Build your query</span></span>
<span><span class="va">query</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_students.html">get_students</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">grade_level</span> <span class="op">&gt;=</span> <span class="fl">9</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">student_number</span>, <span class="va">first_name</span>, <span class="va">last_name</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Check the SQL that will be generated</span></span>
<span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/explain.html" class="external-link">show_query</a></span><span class="op">(</span><span class="va">query</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Preview first few rows (fast)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">query</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Count rows (fast)</span></span>
<span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/count.html" class="external-link">tally</a></span><span class="op">(</span><span class="va">query</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Pull when satisfied</span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/compute.html" class="external-link">collect</a></span><span class="op">(</span><span class="va">query</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="use-joins-on-the-server">4. Use Joins on the Server<a class="anchor" aria-label="anchor" href="#use-joins-on-the-server"></a>
</h3>
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># GOOD: Join lazy objects before collect()</span></span>
<span><span class="va">combined</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_students.html">get_students</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">inner_join</a></span><span class="op">(</span><span class="fu"><a href="../reference/get_schools.html">get_schools</a></span><span class="op">(</span><span class="op">)</span>, by <span class="op">=</span> <span class="st">"schoolid"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/compute.html" class="external-link">collect</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># LESS EFFICIENT: Pull both tables, then join in R</span></span>
<span><span class="va">students</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_students.html">get_students</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/compute.html" class="external-link">collect</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">schools</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_schools.html">get_schools</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/compute.html" class="external-link">collect</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">combined</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">inner_join</a></span><span class="op">(</span><span class="va">students</span>, <span class="va">schools</span>, by <span class="op">=</span> <span class="st">"schoolid"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="reuse-connections">5. Reuse Connections<a class="anchor" aria-label="anchor" href="#reuse-connections"></a>
</h3>
<div class="sourceCode" id="cb30"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Connections are automatically reused</span></span>
<span><span class="co"># No need to manually manage connections in normal usage</span></span>
<span></span>
<span><span class="co"># If you need to close a connection:</span></span>
<span><span class="fu"><a href="../reference/disconnect.html">disconnect</a></span><span class="op">(</span><span class="va">conn_PowerSchool</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="handle-dates-properly">6. Handle Dates Properly<a class="anchor" aria-label="anchor" href="#handle-dates-properly"></a>
</h3>
<div class="sourceCode" id="cb31"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># SQL Server dates work with standard R date filtering</span></span>
<span><span class="va">recent_attendance</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_student_daily_attendance.html">get_student_daily_attendance</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">att_date</span> <span class="op">&gt;=</span> <span class="st">"2024-01-01"</span>, <span class="va">att_date</span> <span class="op">&lt;</span> <span class="st">"2024-07-01"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/compute.html" class="external-link">collect</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Can also use lubridate functions (may vary in SQL translation)</span></span>
<span><span class="va">recent_attendance</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_student_daily_attendance.html">get_student_daily_attendance</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">att_date</span> <span class="op">&gt;=</span> <span class="fu">lubridate</span><span class="fu">::</span><span class="fu"><a href="https://lubridate.tidyverse.org/reference/ymd.html" class="external-link">ymd</a></span><span class="op">(</span><span class="st">"2024-01-01"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/compute.html" class="external-link">collect</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<hr>
</div>
</div>
<div class="section level2">
<h2 id="troubleshooting">Troubleshooting<a class="anchor" aria-label="anchor" href="#troubleshooting"></a>
</h2>
<div class="section level3">
<h3 id="kerberos-ticket-expired-error">“Kerberos ticket expired” Error<a class="anchor" aria-label="anchor" href="#kerberos-ticket-expired-error"></a>
</h3>
<p><strong>Problem</strong>: Kerberos tickets expire after ~10
hours.</p>
<p><strong>Solution</strong>:</p>
<div class="sourceCode" id="cb32"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Reload package to renew ticket</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/detach.html" class="external-link">detach</a></span><span class="op">(</span><span class="st">"package:ideadata"</span>, unload <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://idea-analytics.github.io/ideadata">ideadata</a></span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="could-not-find-table-error">“Could not find table” Error<a class="anchor" aria-label="anchor" href="#could-not-find-table-error"></a>
</h3>
<p><strong>Problem</strong>: Table name is ambiguous or doesn’t
exist.</p>
<p><strong>Solution</strong>:</p>
<div class="sourceCode" id="cb33"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Search for the table</span></span>
<span><span class="fu"><a href="../reference/view_warehouse_metadata.html">view_warehouse_metadata</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Or search programmatically</span></span>
<span><span class="va">warehouse_meta_data</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="fu">str_detect</span><span class="op">(</span><span class="va">table_name</span>, <span class="st">"your_table_name"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Use full specification</span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_table.html">get_table</a></span><span class="op">(</span></span>
<span>  .table_name <span class="op">=</span> <span class="st">"exact_table_name"</span>,</span>
<span>  .database_name <span class="op">=</span> <span class="st">"database_name"</span>,</span>
<span>  .server_name <span class="op">=</span> <span class="st">"server_name"</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="connection-failed-error">“Connection failed” Error<a class="anchor" aria-label="anchor" href="#connection-failed-error"></a>
</h3>
<p><strong>Checklist</strong>:</p>
<ol style="list-style-type: decimal">
<li>Are you connected to VPN?</li>
<li>Have you run <code><a href="../reference/setup_creds.html">setup_creds()</a></code> and restarted R?</li>
<li>Is your ODBC driver installed?</li>
<li>Is your password correct? (Run <code><a href="../reference/setup_creds.html">setup_creds()</a></code>
again)</li>
</ol>
</div>
<div class="section level3">
<h3 id="cannot-allocate-vector-of-size-error">“Cannot allocate vector of size…” Error<a class="anchor" aria-label="anchor" href="#cannot-allocate-vector-of-size-error"></a>
</h3>
<p><strong>Problem</strong>: Trying to pull too much data at once.</p>
<p><strong>Solution</strong>: Use <code><a href="../reference/collector.html">collector()</a></code> to pull in
chunks:</p>
<div class="sourceCode" id="cb34"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_table.html">get_table</a></span><span class="op">(</span><span class="st">"large_table"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/collector.html">collector</a></span><span class="op">(</span><span class="va">grouping_column</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="rstudio-hangs-on-large-query">RStudio Hangs on Large Query<a class="anchor" aria-label="anchor" href="#rstudio-hangs-on-large-query"></a>
</h3>
<p><strong>Problem</strong>: Pulling too much data at once.</p>
<p><strong>Solutions</strong>:</p>
<ol style="list-style-type: decimal">
<li>Use <code><a href="../reference/collector.html">collector()</a></code> for large datasets</li>
<li>Add more filters before <code><a href="https://dplyr.tidyverse.org/reference/compute.html" class="external-link">collect()</a></code>
</li>
<li>Limit columns with <code><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select()</a></code>
</li>
<li>Pull a sample first:
<code>slice_sample(n = 1000) %&gt;% collect()</code>
</li>
</ol>
<hr>
</div>
</div>
<div class="section level2">
<h2 id="common-use-cases">Common Use Cases<a class="anchor" aria-label="anchor" href="#common-use-cases"></a>
</h2>
<div class="section level3">
<h3 id="use-case-1-end-of-year-student-roster">Use Case 1: End of Year Student Roster<a class="anchor" aria-label="anchor" href="#use-case-1-end-of-year-student-roster"></a>
</h3>
<div class="sourceCode" id="cb35"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://idea-analytics.github.io/ideadata">ideadata</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Get 2023-24 school year students with school info</span></span>
<span><span class="va">sy_2024_roster</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_students.html">get_students</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span></span>
<span>    <span class="va">entrydate</span> <span class="op">&lt;=</span> <span class="st">"2024-08-31"</span>,</span>
<span>    <span class="va">exitdate</span> <span class="op">&gt;=</span> <span class="st">"2024-05-31"</span> <span class="op">|</span> <span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">exitdate</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">left_join</a></span><span class="op">(</span><span class="fu"><a href="../reference/get_schools.html">get_schools</a></span><span class="op">(</span><span class="op">)</span>, by <span class="op">=</span> <span class="st">"schoolid"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span></span>
<span>    <span class="va">student_number</span>,</span>
<span>    <span class="va">first_name</span>,</span>
<span>    <span class="va">last_name</span>,</span>
<span>    <span class="va">grade_level</span>,</span>
<span>    school_name <span class="op">=</span> <span class="va">name</span>,</span>
<span>    <span class="va">region</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/compute.html" class="external-link">collect</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="use-case-2-ytd-attendance-analysis">Use Case 2: YTD Attendance Analysis<a class="anchor" aria-label="anchor" href="#use-case-2-ytd-attendance-analysis"></a>
</h3>
<div class="sourceCode" id="cb36"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Current year attendance rates by student</span></span>
<span><span class="va">ytd_attendance</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_student_daily_attendance.html">get_student_daily_attendance</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">att_date</span> <span class="op">&gt;=</span> <span class="st">"2024-08-01"</span>, <span class="va">att_date</span> <span class="op">&lt;=</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html" class="external-link">Sys.Date</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">studentid</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarize</a></span><span class="op">(</span></span>
<span>    days_possible <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/context.html" class="external-link">n</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>    days_present <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">attendancevalue</span> <span class="op">==</span> <span class="fl">1</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>    attendance_rate <span class="op">=</span> <span class="va">days_present</span> <span class="op">/</span> <span class="va">days_possible</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/compute.html" class="external-link">collect</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">left_join</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="../reference/get_students.html">get_students</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/compute.html" class="external-link">collect</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>    by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"studentid"</span> <span class="op">=</span> <span class="st">"id"</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="use-case-3-assessment-score-trends">Use Case 3: Assessment Score Trends<a class="anchor" aria-label="anchor" href="#use-case-3-assessment-score-trends"></a>
</h3>
<div class="sourceCode" id="cb37"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># STAR Math growth over time</span></span>
<span><span class="va">star_trends</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_renstar_math.html">get_renstar_math</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">school_year</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2023</span>, <span class="fl">2024</span><span class="op">)</span>, <span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">unified_score</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span></span>
<span>    <span class="va">student_id</span>,</span>
<span>    <span class="va">school_year</span>,</span>
<span>    <span class="va">test_period</span>,</span>
<span>    <span class="va">unified_score</span>,</span>
<span>    <span class="va">percentile_rank</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/compute.html" class="external-link">collect</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html" class="external-link">arrange</a></span><span class="op">(</span><span class="va">student_id</span>, <span class="va">school_year</span>, <span class="va">test_period</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="use-case-4-survey-response-rates">Use Case 4: Survey Response Rates<a class="anchor" aria-label="anchor" href="#use-case-4-survey-response-rates"></a>
</h3>
<div class="sourceCode" id="cb38"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># AEES response rates by region</span></span>
<span><span class="va">aees_responses</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_aees.html">get_aees_results</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/compute.html" class="external-link">collect</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Calculate response rates</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyr.tidyverse.org" class="external-link">tidyr</a></span><span class="op">)</span></span>
<span><span class="va">response_summary</span> <span class="op">&lt;-</span> <span class="va">aees_responses</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">region</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarize</a></span><span class="op">(</span></span>
<span>    total_invited <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/n_distinct.html" class="external-link">n_distinct</a></span><span class="op">(</span><span class="va">employee_id</span><span class="op">)</span>,</span>
<span>    total_responded <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/n_distinct.html" class="external-link">n_distinct</a></span><span class="op">(</span><span class="va">employee_id</span><span class="op">[</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">response</span><span class="op">)</span><span class="op">]</span><span class="op">)</span>,</span>
<span>    response_rate <span class="op">=</span> <span class="va">total_responded</span> <span class="op">/</span> <span class="va">total_invited</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="use-case-5-multi-year-data-pull">Use Case 5: Multi-Year Data Pull<a class="anchor" aria-label="anchor" href="#use-case-5-multi-year-data-pull"></a>
</h3>
<div class="sourceCode" id="cb39"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Five years of persistence data</span></span>
<span><span class="co"># This is large - use collector!</span></span>
<span><span class="va">persistence_5yr</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_persistence_historical.html">get_persistence_historical</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">school_year</span> <span class="op">&gt;=</span> <span class="fl">2019</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/collector.html">collector</a></span><span class="op">(</span><span class="va">school_year</span>, verbose <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<hr>
</div>
</div>
<div class="section level2">
<h2 id="additional-resources">Additional Resources<a class="anchor" aria-label="anchor" href="#additional-resources"></a>
</h2>
<ul>
<li>
<strong>Vignettes</strong>: Run
<code>browseVignettes("ideadata")</code> for detailed guides</li>
<li>
<strong>Function Reference</strong>: <a href="https://idea-analytics.github.io/ideadata" class="uri">https://idea-analytics.github.io/ideadata</a>
</li>
<li>
<strong>Package Help</strong>: <code>?ideadata</code> or
<code><a href="https://idea-analytics.github.io/ideadata/reference">help(package = "ideadata")</a></code>
</li>
<li>
<strong>Warehouse Metadata</strong>:
<code><a href="../reference/view_warehouse_metadata.html">view_warehouse_metadata()</a></code> to explore available tables</li>
</ul>
<hr>
</div>
<div class="section level2">
<h2 id="quick-reference">Quick Reference<a class="anchor" aria-label="anchor" href="#quick-reference"></a>
</h2>
<div class="section level3">
<h3 id="essential-commands">Essential Commands<a class="anchor" aria-label="anchor" href="#essential-commands"></a>
</h3>
<div class="sourceCode" id="cb40"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Setup (first time only)</span></span>
<span><span class="fu"><a href="../reference/setup_creds.html">setup_creds</a></span><span class="op">(</span><span class="op">)</span> <span class="co"># Configure credentials</span></span>
<span><span class="fu">.rs.restartR</span><span class="op">(</span><span class="op">)</span> <span class="co"># Restart R session</span></span>
<span></span>
<span><span class="co"># Loading</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://idea-analytics.github.io/ideadata">ideadata</a></span><span class="op">)</span> <span class="co"># Load package</span></span>
<span></span>
<span><span class="co"># Exploring</span></span>
<span><span class="fu"><a href="../reference/view_warehouse_metadata.html">view_warehouse_metadata</a></span><span class="op">(</span><span class="op">)</span> <span class="co"># Browse available tables</span></span>
<span><span class="va">warehouse_meta_data</span> <span class="co"># View metadata tibble</span></span>
<span></span>
<span><span class="co"># Getting Data</span></span>
<span><span class="fu"><a href="../reference/get_table.html">get_table</a></span><span class="op">(</span><span class="st">"table_name"</span><span class="op">)</span> <span class="co"># Generic table access</span></span>
<span><span class="fu"><a href="../reference/get_students.html">get_students</a></span><span class="op">(</span><span class="op">)</span> <span class="co"># Student data</span></span>
<span><span class="fu"><a href="../reference/get_schools.html">get_schools</a></span><span class="op">(</span><span class="op">)</span> <span class="co"># School data</span></span>
<span><span class="fu"><a href="../reference/get_student_daily_attendance.html">get_student_daily_attendance</a></span><span class="op">(</span><span class="op">)</span> <span class="co"># Attendance data</span></span>
<span></span>
<span><span class="co"># Working with Queries</span></span>
<span><span class="va">query</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/explain.html" class="external-link">show_query</a></span><span class="op">(</span><span class="op">)</span> <span class="co"># Preview SQL</span></span>
<span><span class="va">query</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="op">)</span> <span class="co"># Preview first rows</span></span>
<span><span class="va">query</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/count.html" class="external-link">tally</a></span><span class="op">(</span><span class="op">)</span> <span class="co"># Count rows</span></span>
<span><span class="va">query</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/compute.html" class="external-link">collect</a></span><span class="op">(</span><span class="op">)</span> <span class="co"># Pull data into R</span></span>
<span></span>
<span><span class="co"># Large Datasets</span></span>
<span><span class="va">query</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="../reference/collector.html">collector</a></span><span class="op">(</span><span class="va">grouping_var</span><span class="op">)</span> <span class="co"># Chunked data pull</span></span>
<span></span>
<span><span class="co"># Troubleshooting</span></span>
<span><span class="fu"><a href="../reference/setup_creds.html">setup_creds</a></span><span class="op">(</span><span class="op">)</span> <span class="co"># Reset credentials</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/detach.html" class="external-link">detach</a></span><span class="op">(</span><span class="st">"package:ideadata"</span>, unload <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://idea-analytics.github.io/ideadata">ideadata</a></span><span class="op">)</span> <span class="co"># Renew Kerberos</span></span></code></pre></div>
<hr>
<p><strong>Package Version</strong>: 4.0.0 <strong>Maintained
by</strong>: IDEA Analytics Team</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Chris Haid.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

      </footer>
</div>






  </body>
</html>
